<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>献立の探索結果</title>
</head>
<body>
    <h1>献立の探索結果</h1>
    <p>手持ちの食材: {{ ', '.join(search_ingredients) }}</p>
    <p>許容する不足食材数: {{ missing_count }}</p>

    {% if results %}
        <h2>見つかった献立</h2>
        <ul>
        {% for recipe in results %}
            <li>
                <h3>{{ recipe.title }}</h3>
                <p>必要な材料: {{ ', '.join(recipe.ingredients) }}</p>
                {% if recipe.missing %}
                    <p style="color:red;">** 足りない材料: {{ ', '.join(recipe.missing) }}</p>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>条件に合う献立は見つかりませんでした。</p>
    {% endif %}

    <a href="{{ url_for('index', search_ingredients=search_ingredients | join(','), missing_count=missing_count) }}">トップページに戻る</a>
</body>
</html>
